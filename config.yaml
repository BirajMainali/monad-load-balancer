balancer:
  algorithm: "adaptive_least_conn"
  check_interval_ms: 500
  port: 9090

backends:
  - id: "srv-01"
    address: "0.0.0.0:9001"
    max_connections: 1000
    weight: 10

  - id: "srv-02"
    address: "0.0.0.0:9002"
    max_connections: 1000
    weight: 10

  - id: "srv-02"
    address: "0.0.0.0:9003"
    max_connections: 1000
    weight: 10

  - id: "srv-02"
    address: "0.0.0.0:9004"
    max_connections: 1000
    weight: 10

thresholds:
  latency_critical_ms: 200
  error_rate_limit: 5
  recovery_step: 2